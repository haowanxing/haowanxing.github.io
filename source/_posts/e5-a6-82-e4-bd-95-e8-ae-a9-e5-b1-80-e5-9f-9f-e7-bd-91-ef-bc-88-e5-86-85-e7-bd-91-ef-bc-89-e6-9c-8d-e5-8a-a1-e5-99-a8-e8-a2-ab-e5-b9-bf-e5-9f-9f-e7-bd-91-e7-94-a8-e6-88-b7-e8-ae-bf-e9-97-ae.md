---
title: 如何让局域网（内网）服务器被广域网用户访问
id: 30
categories:
  - 学习笔记
date: 2014-07-06 12:17:47
tags:
---

随着IPv4的资源逐渐耗尽而新的IPv6还未被广泛使用，多用户公用同一广域IP成为了一个很好的解决办法，这种方法就类似于我们每个家庭使用的路由器，连接到同一个路由器的计算机或者手机都是同用一个广域网IP，路由器给连接到的每台设备都分配一个内网IP，内网用户可以通过广域网IP访问互联网中的服务器，但是互联网中的其他用户无法通过这个广域IP直接访问到内网的设备，因为内网中的服务器和互联网全部都通过同一个广域IP进行通信。要想使内网的服务器被互联网访问，那么需要做的就是端口映射！

如何进行映射？用家用路由器来做个简单的教程吧。

首先，我们需要登录路由器管理页面，在左边选择“虚拟服务器”－“端口映射”，这时右边出来一个映射表，把你内网中服务器的ip地址和对应的端口填入表中，选择启用，然后保存，重启路由器，路由器的配置就完成了。配置如下图所示：

[![QQ20140706-1](/wp-content/uploads/2014/07/QQ20140706-1-300x186.png)](/wp-content/uploads/2014/07/QQ20140706-1.png)

现在我们来测试一下能否通过广域ip来进行访问这台服务器，注意：不可以在这台服务器上测试，因为不用映射也能访问！（不多解释）

访问的时候记得带上端口号，如果是80端口的话可以省略。

[![QQ20140706-2](/wp-content/uploads/2014/07/QQ20140706-2-300x187.png)](/wp-content/uploads/2014/07/QQ20140706-2.png)

上图是成功的案例，通过广域ip＋对应端口号成功访问到我们内网中ip为192.168.0.6的服务器。
<div id="xunlei_com_thunder_helper_plugin_d462f475-c18e-46be-bd10-327458d045bd"></div>